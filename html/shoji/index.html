<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.1" />
<title>shoji API documentation</title>
<meta name="description" content="Shoji is a tensor database, suitable for storing and working with very large-scale datasets
organized as vectors, matrices and higher-dimensional …" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>shoji</code></h1>
</header>
<section id="section-intro">
<p>Shoji is a tensor database, suitable for storing and working with very large-scale datasets
organized as vectors, matrices and higher-dimensional tensors. </p>
<h2 id="key-features">Key features</h2>
<ul>
<li>Multi-petabyte scalable, distributed, high-performance database</li>
<li>Data modelled as N-dimensional tensors with boolean, string or numeric elements</li>
<li>Supports both regular and jagged tensors</li>
<li>Automatic data compression</li>
<li>Relationships expressed through shared (and named) dimensions</li>
<li>Read and write data through filter expressions (similar to SQL SELECT)</li>
<li>Data safety through transactions and <a href="https://en.wikipedia.org/wiki/ACID">ACID</a> properties (atomicity, consistency, isolation, durability)</li>
<li>Concurrent access, with consistent serial reads and writes</li>
<li>Elegant, convenient Python API, aligned with numpy</li>
</ul>
<p>Oh, and it's fast.</p>
<h2 id="data-model">Data model</h2>
<p>In Shoji, data is stored as tensors, and relationships are expressed using shared dimensions. </p>
<p>The fundamental unit of data storage in Shoji is the <em>row</em> (and its generalization to N dimensions).
Data is added to, or removed from, tensors by rows; columns cannot be added or removed. </p>
<p>Dimensions can be named, and named dimensions express relationships and constraints between tensors.
Tensors that share a named dimension must have the same length along that dimension (and this relationship
is enforced when adding or removing rows).</p>
<p>You can think of rows as your data <em>objects</em>, dimensions as object <em>types</em>, and the tensors as object
<em>attributes</em>. For example, a set of vectors defined on a samples dimension could be seen as the attributes
of samples (e.g. SampleID, Age, Tissue, Date), and an individual sample would correspond to an individual
row across all tensors.</p>
<p>Tensors can also be related to multiple named dimensions. For example, omics data (e.g. gene expression)
is often represented as matrices, which can be represented in Shoji as rank-2 tensors with two named
dimensions, e.g. cells and genes. Metadata about cells and genes would be stored as rank-1 tensors
(vectors) along the cells and genes dimensions, respectively. </p>
<p>Similarly, multichannel timelapse image data can be represented as high-rank tensors with dimensions
such as x, y, channel, and timepoint.</p>
<h2 id="important-classes">Important classes</h2>
<p><code><a title="shoji.workspace.Workspace" href="workspace.html#shoji.workspace.Workspace">Workspace</a></code>:
Workspaces let you organise collections of data that belong together.</p>
<p><code><a title="shoji.tensor.Tensor" href="tensor.html#shoji.tensor.Tensor">Tensor</a></code>:
N-dimensional arrays of numbers, booleans and strings.</p>
<p><code><a title="shoji.dimension.Dimension" href="dimension.html#shoji.dimension.Dimension">Dimension</a></code>:
Named dimensions that constrain tensors.</p>
<p><code><a title="shoji.filter.Filter" href="filter.html#shoji.filter.Filter">Filter</a></code>:
Expressions used to read subsets of tensors.</p>
<p><code><a title="shoji.view.View" href="view.html#shoji.view.View">View</a></code>:
A view of the database through a set of filter expressions.</p>
<p><code><a title="shoji.transaction.Transaction" href="transaction.html#shoji.transaction.Transaction">Transaction</a></code>:
Read and write data using atomic operations.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
Shoji is a tensor database, suitable for storing and working with very large-scale datasets
organized as vectors, matrices and higher-dimensional tensors. 

## Key features

- Multi-petabyte scalable, distributed, high-performance database
- Data modelled as N-dimensional tensors with boolean, string or numeric elements
- Supports both regular and jagged tensors
- Automatic data compression
- Relationships expressed through shared (and named) dimensions
- Read and write data through filter expressions (similar to SQL SELECT)
- Data safety through transactions and [ACID](https://en.wikipedia.org/wiki/ACID) properties (atomicity, consistency, isolation, durability)
- Concurrent access, with consistent serial reads and writes
- Elegant, convenient Python API, aligned with numpy

Oh, and it&#39;s fast.

## Data model

In Shoji, data is stored as tensors, and relationships are expressed using shared dimensions. 

The fundamental unit of data storage in Shoji is the *row* (and its generalization to N dimensions). 
Data is added to, or removed from, tensors by rows; columns cannot be added or removed. 

Dimensions can be named, and named dimensions express relationships and constraints between tensors.
Tensors that share a named dimension must have the same length along that dimension (and this relationship
is enforced when adding or removing rows).

You can think of rows as your data *objects*, dimensions as object *types*, and the tensors as object
*attributes*. For example, a set of vectors defined on a samples dimension could be seen as the attributes
of samples (e.g. SampleID, Age, Tissue, Date), and an individual sample would correspond to an individual
row across all tensors.

Tensors can also be related to multiple named dimensions. For example, omics data (e.g. gene expression)
is often represented as matrices, which can be represented in Shoji as rank-2 tensors with two named
dimensions, e.g. cells and genes. Metadata about cells and genes would be stored as rank-1 tensors
(vectors) along the cells and genes dimensions, respectively. 

Similarly, multichannel timelapse image data can be represented as high-rank tensors with dimensions
such as x, y, channel, and timepoint.

## Important classes

`shoji.workspace.Workspace`:    Workspaces let you organise collections of data that belong together.

`shoji.tensor.Tensor`:  N-dimensional arrays of numbers, booleans and strings.

`shoji.dimension.Dimension`:    Named dimensions that constrain tensors.

`shoji.filter.Filter`:  Expressions used to read subsets of tensors.

`shoji.view.View`:  A view of the database through a set of filter expressions.

`shoji.transaction.Transaction`:    Read and write data using atomic operations.

&#34;&#34;&#34;
import fdb
fdb.api_version(620)

from .codec import Codec
from .dimension import Dimension
from .tensor import Tensor
from .workspace import Workspace, WorkspaceManager
from .connect import connect
from .filter import Filter, CompoundFilter, TensorFilter, ConstFilter, DimensionBoolFilter, DimensionIndicesFilter, DimensionSliceFilter
from .transaction import Transaction
from .view import View
from .io import __nil__</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="shoji.codec" href="codec.html">shoji.codec</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="shoji.connect" href="connect.html">shoji.connect</a></code></dt>
<dd>
<div class="desc"><p>Connecting to a Shoji database cluster.</p></div>
</dd>
<dt><code class="name"><a title="shoji.dimension" href="dimension.html">shoji.dimension</a></code></dt>
<dd>
<div class="desc"><p>Dimensions represent named, shared tensor axes. When two tensors share an axis, they are
constrained to have the same number of elements along that …</p></div>
</dd>
<dt><code class="name"><a title="shoji.filter" href="filter.html">shoji.filter</a></code></dt>
<dd>
<div class="desc"><p>Filters are expressions used to read and write selected rows from the database. They are typically
used to create <code><a title="shoji.view.View" href="view.html#shoji.view.View">View</a></code>s of the database, …</p></div>
</dd>
<dt><code class="name"><a title="shoji.io" href="io.html">shoji.io</a></code></dt>
<dd>
<div class="desc"><p>Internal low-level I/O routines, not intended for end users.</p></div>
</dd>
<dt><code class="name"><a title="shoji.tensor" href="tensor.html">shoji.tensor</a></code></dt>
<dd>
<div class="desc"><p>Tensors, representing multidimensional arrays of numbers or strings.</p></div>
</dd>
<dt><code class="name"><a title="shoji.transaction" href="transaction.html">shoji.transaction</a></code></dt>
<dd>
<div class="desc"><p>Transactions, supporting atomic multi-statement operations.</p></div>
</dd>
<dt><code class="name"><a title="shoji.view" href="view.html">shoji.view</a></code></dt>
<dd>
<div class="desc"><p>Views of tensors, defined by filters.</p></div>
</dd>
<dt><code class="name"><a title="shoji.workspace" href="workspace.html">shoji.workspace</a></code></dt>
<dd>
<div class="desc"><p>Workspaces let you organise collections of data that belong together. Workspaces can be nested,
like folders in a file system …</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#key-features">Key features</a></li>
<li><a href="#data-model">Data model</a></li>
<li><a href="#important-classes">Important classes</a></li>
</ul>
</div>
<ul id="index">
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="shoji.codec" href="codec.html">shoji.codec</a></code></li>
<li><code><a title="shoji.connect" href="connect.html">shoji.connect</a></code></li>
<li><code><a title="shoji.dimension" href="dimension.html">shoji.dimension</a></code></li>
<li><code><a title="shoji.filter" href="filter.html">shoji.filter</a></code></li>
<li><code><a title="shoji.io" href="io.html">shoji.io</a></code></li>
<li><code><a title="shoji.tensor" href="tensor.html">shoji.tensor</a></code></li>
<li><code><a title="shoji.transaction" href="transaction.html">shoji.transaction</a></code></li>
<li><code><a title="shoji.view" href="view.html">shoji.view</a></code></li>
<li><code><a title="shoji.workspace" href="workspace.html">shoji.workspace</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.8.1</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>